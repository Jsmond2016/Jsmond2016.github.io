(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{314:function(t,s,a){t.exports=a.p+"assets/img/1561212303452.f1f9b52f.png"},315:function(t,s,a){t.exports=a.p+"assets/img/1561263112445.52352c4b.png"},316:function(t,s,a){t.exports=a.p+"assets/img/1561263570832.b7b3f9cb.png"},317:function(t,s,a){t.exports=a.p+"assets/img/1561283701215.f18b43b8.png"},318:function(t,s,a){t.exports=a.p+"assets/img/1561284078115.18e46aaf.png"},319:function(t,s,a){t.exports=a.p+"assets/img/20180606113901951386.12a00079.png"},320:function(t,s){t.exports="data:image/png;base64,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"},321:function(t,s,a){t.exports=a.p+"assets/img/1561341713019.ce171302.png"},498:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"react-入门-02"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-入门-02"}},[t._v("#")]),t._v(" React 入门 02")]),t._v(" "),n("blockquote",[n("p",[t._v("第4章")])]),t._v(" "),n("h2",{attrs:{id:"安装-react-调试工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-react-调试工具"}},[t._v("#")]),t._v(" 安装 React 调试工具")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?utm_source=chrome-ntp-icon",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Developer Tools"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("React 开发调试方法： 打开 Chrome 开发者工具，对已安装 React 调试工具后，可以看到 React，同时，在右侧可以实时看到数据变化")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(314),alt:"1561212303452"}})]),t._v(" "),n("h2",{attrs:{id:"proptypes-与-defaultprops-的应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proptypes-与-defaultprops-的应用"}},[t._v("#")]),t._v(" PropTypes 与 DefaultProps 的应用")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://reactjs.org/docs/typechecking-with-proptypes.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文档"),n("OutboundLink")],1)])]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PropTypes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prop-types'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TodoItem")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//省略部分代码}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nTodoItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    deleteItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nTodoItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello, wold!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \txxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'this is a test'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" TodoItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("更多内容，请看 "),n("a",{attrs:{href:"https://reactjs.org/docs/typechecking-with-proptypes.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 官方文档"),n("OutboundLink")],1),t._v(" ，建议看英文版，因为中文版本可能会有些滞后")]),t._v(" "),n("h2",{attrs:{id:"props，state，render函数之间的关系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#props，state，render函数之间的关系"}},[t._v("#")]),t._v(" props，state，render函数之间的关系")]),t._v(" "),n("ul",[n("li",[t._v("当组件的 props 和 state 发生变化时， render 函数就会重新执行。因为页面是由 render 函数渲染出来的")]),t._v(" "),n("li",[t._v("当父组件的 render 被运行时，它的子组件的render函数都将被重新运行一次")])]),t._v(" "),n("h2",{attrs:{id:"虚拟-dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom"}},[t._v("#")]),t._v(" 虚拟 DOM")]),t._v(" "),n("p",[t._v("首先，我们来梳理下一个页面的渲染流程：")]),t._v(" "),n("blockquote",[n("p",[t._v("模拟操作，当在 input 输入内容时")])]),t._v(" "),n("h3",{attrs:{id:"普通版本："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#普通版本："}},[t._v("#")]),t._v(" 普通版本：")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("state 数据")])]),t._v(" "),n("li",[n("p",[t._v("JSX 模板")])]),t._v(" "),n("li",[n("p",[t._v("数据 + 模板 结合，生成真实的 DOM ，来显示")])]),t._v(" "),n("li",[n("p",[t._v("state 发生改变")])]),t._v(" "),n("li",[n("p",[t._v("数据 + 模板 结合，生成真实的 DOM，替换原始的 DOM")])])]),t._v(" "),n("p",[n("strong",[t._v("缺点：")])]),t._v(" "),n("ul",[n("li",[t._v("第一次生成了一个完整的 DOM 片段")]),t._v(" "),n("li",[t._v("第二次生成了一个完整的 DOM 片段")]),t._v(" "),n("li",[t._v("第二次的 DOM 替换第一次的 DOM 片段，非常消耗性能")])]),t._v(" "),n("h3",{attrs:{id:"改进版："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改进版："}},[t._v("#")]),t._v(" 改进版：")]),t._v(" "),n("ol",[n("li",[t._v("state 数据")]),t._v(" "),n("li",[t._v("JSX 模板")]),t._v(" "),n("li",[t._v("数据 + 模板 结合，生成真实的 DOM ，来显示")]),t._v(" "),n("li",[t._v("state 发生改变")]),t._v(" "),n("li",[t._v("数据 + 模板 结合，生成真实的 DOM，并不直接替换掉原始的 DOM")]),t._v(" "),n("li",[n("strong",[t._v("新的 DOM（DocumentFragment） 和 原始的 DOM 作对比，找差异（消耗性能）")])]),t._v(" "),n("li",[n("strong",[t._v("找出 input 框发生了变化")])]),t._v(" "),n("li",[n("strong",[t._v("只用新的DOM 中的 input 元素替换掉原始 DOM 中的 input 的元素（提升性能）")])])]),t._v(" "),n("p",[n("strong",[t._v("缺陷：")])]),t._v(" "),n("p",[t._v("在消耗性能后又提升性能，提升并不大")]),t._v(" "),n("h3",{attrs:{id:"react-版本："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-版本："}},[t._v("#")]),t._v(" React 版本：")]),t._v(" "),n("ol",[n("li",[t._v("state 数据")]),t._v(" "),n("li",[t._v("JSX 模板")]),t._v(" "),n("li",[t._v("生成虚拟的  DOM （虚拟 DOM 就是一个 JS 对象，用它来描述真实的 DOM ，消耗了性能），效果如下：")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abc'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("数据 + 模板 结合，生成真实的 DOM ，来显示")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("abc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hello world!"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ol",{attrs:{start:"5"}},[n("li",[t._v("state 发生变化 （修改 span 中 'hello world!'  为 'bye bye'）")]),t._v(" "),n("li",[t._v("数据 + 模板，生成一个新的虚拟 DOM （极大的提升了性能）")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abc'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bye bye'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("ol",{attrs:{start:"7"}},[n("li",[t._v("比较原始虚拟 DOM 和新的虚拟 DOM 区别（比对的是 js 对象的不同，而不是 DOM 的区别），找到区别是 span 内容（极大的提升了性能）")]),t._v(" "),n("li",[t._v("直接操作 DOM ，改变 span 中的内容")])]),t._v(" "),n("blockquote",[n("p",[t._v("说明：")]),t._v(" "),n("p",[t._v("第4步，看起来是消耗了性能，但是，对比使用 js 生成一个 DOM 对象，使用 js 生成一个 js 对象，性能消耗是极小的。因为 js 生成一个 DOM 对象时，调用的是浏览器 Web Application 的一个 API，性能损耗很大。")])]),t._v(" "),n("h2",{attrs:{id:"深入理解虚拟-dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#深入理解虚拟-dom"}},[t._v("#")]),t._v(" 深入理解虚拟 DOM")]),t._v(" "),n("p",[t._v("JSX —— createElement——虚拟 DOM （JS对象）——真实的 DOM")]),t._v(" "),n("p",[t._v("在 render 函数中，JSX 到底做了什么？")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//等价于}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'item'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("当代码复杂一些时：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//等价于}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'item'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("我们发现，当代码复杂量加大时，JSX 底层方法需要一直使用 "),n("code",[t._v("React.createElement()")]),t._v("，过于复杂。")]),t._v(" "),n("p",[t._v("使用 虚拟 DOM 的优点：")]),t._v(" "),n("ul",[n("li",[t._v("性能提升了")]),t._v(" "),n("li",[t._v("它使得跨端应用得以实现。 React Native。（对于前端而言，将虚拟 DOM 转换成浏览器可以解析的 dom 使得其可以在网页中展示出来；而在其他端上，可以将虚拟 DOM 转换成其他应用的组件）")])]),t._v(" "),n("h2",{attrs:{id:"虚拟-dom-中的-diff-算法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom-中的-diff-算法"}},[t._v("#")]),t._v(" 虚拟 DOM 中的 Diff 算法")]),t._v(" "),n("p",[t._v("在前面介绍中，虚拟 DOM 渲染流程的第 7 步")]),t._v(" "),n("blockquote",[n("p",[t._v("7.比较原始虚拟 DOM 和新的虚拟 DOM 区别（比对的是 js 对象的不同，而不是 DOM 的区别），找到区别是 span 内容（极大的提升了性能）")])]),t._v(" "),n("p",[t._v("这里，比较原始虚拟 DOM  和新的虚拟 DOM 区别，在 React 底层中，使用到的，就是 diff 算法")]),t._v(" "),n("p",[t._v("也就是在使用 "),n("code",[t._v("setState")]),t._v(" 方法时，会调用 "),n("code",[t._v("diff")]),t._v(" 算法")]),t._v(" "),n("h3",{attrs:{id:"diff-算法原理图："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#diff-算法原理图："}},[t._v("#")]),t._v(" diff 算法原理图：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(315),alt:"1561263112445"}})]),t._v(" "),n("p",[n("strong",[t._v("同层DOM比对")]),t._v("，当某一层的新旧 DOM 不同，则直接使用新 DOM 该层替换掉旧 DOM 中该层以下所有组件，虽然对比方法简单粗暴，但是确实是提升了性能。")]),t._v(" "),n("h3",{attrs:{id:"不使用-index-作为-key-值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#不使用-index-作为-key-值"}},[t._v("#")]),t._v(" 不使用 index 作为 key 值")]),t._v(" "),n("p",[t._v("原因如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(316),alt:"1561263570832"}})]),t._v(" "),n("p",[t._v("在 React 的底层 diff 算法中，其对比旧虚拟 DOM  和新虚拟 DOM 的方法，是先对旧虚拟 DOM 编号（设置key值），然后对 新的虚拟 DOM 编号。当新的虚拟 DOM 中多了一个元素时，其会为该新元素设置编号，我们假定认为是 z （也就是key值），接着对 z 所在组件进行渲染，以上，就是 diff 算法的原理。")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTodoItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TodoItem")])]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("index")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("deleteItem")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleItemDelete"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("但是，此时，如果我们在代码中，设置 "),n("code",[t._v("key={index}")]),t._v(" ，这个时候，React 就不能很好的识别 diff 算法设置的编号和我们设置的编号（key）值，"),n("strong",[t._v("新旧 DOM 就无法建立起联系，就失去了 index 存在的意义了")]),t._v("。")]),t._v(" "),n("p",[t._v("再比如，我们有 3 个 "),n("code",[t._v("li")]),t._v(" ，如下：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("a"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("b"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("c"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("我们自定义设置 key 值分别为 0,1,2；")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[t._v("a  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nb  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nc  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),n("p",[t._v("当删除第二个 "),n("code",[t._v("li")]),t._v(" 时，此时为")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[t._v("a  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nc  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),n("p",[t._v("这个时候，我们要取出 key 为 1 的值，就不是 b 而是 c 了，这就导致一些问题了。")]),t._v(" "),n("p",[t._v("所以，不建议使用 "),n("code",[t._v("key={index}")]),t._v(" ，而是使用 "),n("code",[t._v("key={item}")]),t._v(" ，如：")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[t._v("a  a\nb  b\nc  c\n")])])]),n("p",[t._v("删除 b 后，我们取 c ，就是 c")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[t._v("a  a\nc  c\n")])])]),n("p",[t._v("这样，不论怎么变化，取值都是原来的值，不改变")]),t._v(" "),n("h2",{attrs:{id:"react-中-ref-的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-中-ref-的使用"}},[t._v("#")]),t._v(" React 中 ref 的使用")]),t._v(" "),n("h3",{attrs:{id:"不建议直接操作-dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#不建议直接操作-dom"}},[t._v("#")]),t._v(" 不建议直接操作 DOM")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#___gatsby",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ref 教程"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("使用场景：")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//旧代码：没有使用 ref 时}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("htmlFor")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("请输入内容")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleInputChange"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleBtnClick"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("提交")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTodoItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n            ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleInputChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//新代码：使用 ref 时}")]),t._v("\n    \n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("htmlFor")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("请输入内容")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleInputChange"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleBtnClick"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("提交")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTodoItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n            ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleInputChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("从代码中我们可以看出，将 "),n("code",[t._v("handleInputChange")]),t._v(" 中 "),n("code",[t._v("e.target")]),t._v("  我们使用 "),n("code",[t._v("ref")]),t._v(" 的方式，使用 "),n("code",[t._v("this.input")]),t._v(" 直接获得了 DOM 的相关信息。")]),t._v(" "),n("p",[t._v("注意：但是在 React 思想中，核心是以 "),n("strong",[t._v("数据驱动")]),t._v(" ，并不建议直接操作 DOM 。")]),t._v(" "),n("h3",{attrs:{id:"异步函数-setstate-的第二个参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#异步函数-setstate-的第二个参数"}},[t._v("#")]),t._v(" 异步函数 setState 的第二个参数")]),t._v(" "),n("p",[t._v("虽然 React 并不建议我们直接操作 DOM 时，但是在实际开发中，我们不可避免的会遇到一些做动画的项目需求，这个时候，就要使用 ref 操作 DOM 了。")]),t._v(" "),n("p",[t._v("但是，在使用 ref 操作 DOM  时，我们需要注意一些问题：")]),t._v(" "),n("p",[t._v("比如：")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("htmlFor")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("请输入内容")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("insertArea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleInputChange"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                           "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleBtnClick"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("提交")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                    ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTodoItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n            ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleBtnClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("看上述代码，我们给 "),n("code",[t._v("ul")]),t._v(" 添加了 ref ，然后使用 "),n("code",[t._v("this.ul")]),t._v(" 获得。")]),t._v(" "),n("p",[t._v("然后在下面 "),n("code",[t._v("handleBtnClick()")]),t._v(" 方法中进行测试，当点击鼠标添加列表项后，打印出 "),n("code",[t._v("div")]),t._v("的长度（也就是个数），但是结果总是少一个？？？这是为什么呢？")]),t._v(" "),n("p",[n("img",{attrs:{src:a(317),alt:"1561283701215"}})]),t._v(" "),n("p",[t._v("原因：")]),t._v(" "),n("p",[t._v("这是因为 "),n("code",[t._v("setState")]),t._v(" 函数是一个"),n("strong",[t._v("异步函数")]),t._v("，打印 div 长度的代码虽然是写在了添加类表项后面，但是，在具体执行的时候，"),n("strong",[t._v("却是未等 "),n("code",[t._v("setState")]),t._v(" 方法执行完成就打印了 div 的长度")])]),t._v(" "),n("p",[t._v("那怎么办呢？")]),t._v(" "),n("p",[n("strong",[t._v("使用 "),n("code",[t._v("setState")]),t._v(" 的第二个参数，即一个回调函数 ，在 "),n("code",[t._v("setState")]),t._v(" 方法执行完成以后，该回调函数会被调用，也就是页面被渲染完成以后会被调用")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Fragment"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label htmlFor"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insertArea"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("请输入内容"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insertArea"')]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" className"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),t._v("\n                           value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                           onChange"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleInputChange"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                           ref"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onClick"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleBtnClick"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("提交"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul ref"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTodoItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Fragment"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleBtnClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            inputValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(318),alt:"1561284078115"}})]),t._v(" "),n("p",[t._v("这样一来，我们就可以正确获取到 DOM  的真实信息啦！")]),t._v(" "),n("p",[t._v("更多有关 ref 的信息，请参考 "),n("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#___gatsby",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ref 教程"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"react-的生命周期函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-的生命周期函数"}},[t._v("#")]),t._v(" React 的生命周期函数")]),t._v(" "),n("blockquote",[n("p",[t._v("生命周期函数是指：在某一个时刻组件会自动执行的函数")])]),t._v(" "),n("p",[t._v("备注："),n("a",{attrs:{href:"https://juejin.im/post/5b6f1800f265da282d45a79a",target:"_blank",rel:"noopener noreferrer"}},[t._v("React v16.4之后的组件生命周期函数"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("img",{attrs:{src:a(319),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"initialization"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initialization"}},[t._v("#")]),t._v(" Initialization")]),t._v(" "),n("p",[t._v("组件初始化时执行，主要是在 "),n("code",[t._v("constructor")]),t._v(" 中")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TodoItem")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//初始化执行代码}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" TodoItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"mounting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mounting"}},[t._v("#")]),t._v(" Mounting")]),t._v(" "),n("p",[t._v("挂载期。")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("componentWillMount")]),t._v(" 组件即将挂载但是未挂载")]),t._v(" "),n("li",[n("code",[t._v("render")]),t._v(" 渲染期")]),t._v(" "),n("li",[n("code",[t._v("componentDidMount")]),t._v(" 组件被挂载到页面之后，自动被执行")])]),t._v(" "),n("p",[n("strong",[t._v("需要注意")]),t._v("："),n("code",[t._v("componentWillMount")]),t._v(" 方法和 "),n("code",[t._v("componentDidMount")]),t._v(" 只会在组件第一次被挂载时被执行")]),t._v(" "),n("p",[t._v("相关问题："),n("a",{attrs:{href:"https://segmentfault.com/q/1010000008133309",target:"_blank",rel:"noopener noreferrer"}},[t._v("React数据获取为什么一定要在componentDidMount里面调用？"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"updation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#updation"}},[t._v("#")]),t._v(" Updation")]),t._v(" "),n("p",[t._v("因为更新分为 "),n("code",[t._v("props")]),t._v(" 更新和 "),n("code",[t._v("state")]),t._v(" 更新，我们需要分开来理解；但是，两者又有4块共同部分，我们先来理解共同部分：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("shouldComponentUpdate")]),t._v(" 需要被更新吗（返回布尔值 true or false），返回 false 时后面的流程都执行")]),t._v(" "),n("li",[n("code",[t._v("componentWillUpdate")]),t._v(" 组件被更新之前，它会自动执行，但是它在 "),n("code",[t._v("shouldComponentUpate")]),t._v(" 执行后返回 true 才执行")]),t._v(" "),n("li",[n("code",[t._v("render")]),t._v(" 前面都执行完成了，渲染虚拟 DOM")]),t._v(" "),n("li",[n("code",[t._v("componentDidUpdate")]),t._v("  组件更新完成之后被执行")])]),t._v(" "),n("p",[t._v("接着，我们来理解 "),n("code",[t._v("props")]),t._v(" 单独所有的")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("componentWillReceiveProps")]),t._v("  （比较复杂，需要着重理解！！）\n"),n("ul",[n("li",[t._v("一个组件要从父组件接受参数")]),t._v(" "),n("li",[t._v("只要父组件的 render 函数被执行了，子组件的这个生命周期函数就会被执行；")]),t._v(" "),n("li",[t._v("换句话说，如果这个组件"),n("strong",[t._v("第一次")]),t._v("存在于父组件中，不会被执行；如果这个组件"),n("strong",[t._v("之前已经存在")]),t._v("父组件中，才会被执行。")])])])]),t._v(" "),n("h3",{attrs:{id:"unmounting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#unmounting"}},[t._v("#")]),t._v(" Unmounting")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("componentWillUnmount")]),t._v("  当这个组件即将被从页面中移除的时候，会被执行。就是在 "),n("code",[t._v("componentDidUpdate")]),t._v(" 之前。")])]),t._v(" "),n("p",[n("strong",[t._v("需要注意")]),t._v("，在具体的例子中具体写 log 进行测试，需要说明的是，不管是父组件还是子组件，都贯穿着这些生命周期函数。")]),t._v(" "),n("p",[t._v("所有的生命周期函数都可以不存在，但是，"),n("strong",[t._v("唯独 render 不可以不存在")]),t._v("。因为其他生命周期函数都内置了，而 render 函数没有内置，需要自己书写。")]),t._v(" "),n("h2",{attrs:{id:"react-生命周期函数的使用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-生命周期函数的使用场景"}},[t._v("#")]),t._v(" React 生命周期函数的使用场景")]),t._v(" "),n("h3",{attrs:{id:"使用-shouldcomponentupdate-进行性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-shouldcomponentupdate-进行性能优化"}},[t._v("#")]),t._v(" 使用 shouldComponentUpdate 进行性能优化")]),t._v(" "),n("p",[t._v("首先，我们设置下浏览器中 React 的控制面板")]),t._v(" "),n("p",[n("img",{attrs:{src:a(320),alt:"1561341667127"}})]),t._v(" "),n("p",[t._v("以前面我们写的 TodoList 为例")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("shouldComponentUpdate")])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(321),alt:"1561341713019"}})]),t._v(" "),n("p",[t._v("前面我们学习React 的生命周期函数时我们知道，当组件发生变化重新渲染时，其子组件也会重新被渲染。")]),t._v(" "),n("p",[t._v("但是，如上图，我们尝试修改父组件中输入框的内容，子组件内容不变，但是子组件依然还是被重新渲染了，这就不利于性能优化。")]),t._v(" "),n("p",[t._v("解决办法：就要在 "),n("code",[t._v("shouldComponentUpdate")]),t._v(" 中进行处理，其有 两个参数，分别为 "),n("code",[t._v("nextProps")]),t._v(" 和 "),n("code",[t._v("nextState")])]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TodoItem")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleClick "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleClick"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("deleteItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" TodoItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);