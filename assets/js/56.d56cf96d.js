(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{496:function(t,e,n){"use strict";n.r(e);var a=n(0),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"_1-什么是json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是json"}},[t._v("#")]),t._v(" 1. 什么是JSON?")]),t._v(" "),n("p",[n("strong",[t._v("JSON")]),t._v("(JavaScript Object Notation) 是一种轻量级的数据交换格式。是一种由道格拉斯·克罗克福特构想设计、轻量级的数据交换语言，以文字为基础，且易于让人阅读。尽管JSON是Javascript的一个子集，但JSON是独立于语言的文本格式，并且采用了类似于C语言家族的一些习惯。")]),t._v(" "),n("p",[t._v("JSON 数据格式与语言无关，脱胎于 JavaScript，但目前很多编程语言都支持 JSON 格式数据的生成和解析。JSON 的官方 MIME 类型是 "),n("code",[t._v("application/json")]),t._v("，文件扩展名是 "),n("code",[t._v(".json")]),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"_2-json-的语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-json-的语法"}},[t._v("#")]),t._v(" 2. JSON 的语法")]),t._v(" "),n("ul",[n("li",[t._v("语法详情看"),n("a",{attrs:{href:"http://json.org/json-zh.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("注意细节\n"),n("ul",[n("li",[t._v("复合类型的值"),n("strong",[t._v("只能是数组或对象")]),t._v(" ，不能是函数、正则表达式对象、日期对象")]),t._v(" "),n("li",[n("strong",[t._v("简单类型的值只有四种")]),t._v(" ：字符串、数值（必须以十进制表示）、布尔值和"),n("code",[t._v("null")]),t._v("（不能使用"),n("code",[t._v("NaN")]),t._v(", "),n("code",[t._v("Infinity")]),t._v(", "),n("code",[t._v("-Infinity")]),t._v("和"),n("code",[t._v("undefined")]),t._v("）。")]),t._v(" "),n("li",[t._v("字符串必须使用"),n("strong",[t._v("双引号")]),t._v(" 表示，不能使用单引号。")]),t._v(" "),n("li",[t._v("对象的"),n("strong",[t._v("键名必须放在双引号")]),t._v(" 里面。")]),t._v(" "),n("li",[t._v("数组或对象"),n("strong",[t._v("最后一个")]),t._v(" 成员的后面，"),n("strong",[t._v("不能加逗号")]),t._v(" 。")])])])]),t._v(" "),n("h2",{attrs:{id:"_3-json和javascript的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-json和javascript的区别"}},[t._v("#")]),t._v(" 3. JSON和JavaScript的区别")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("JavaScript支持")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("表示方法")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("JSON支持")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("表示方法")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("null")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("null")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("null")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("null")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("array")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("['a','b']")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v('["a","b"]')])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("{name:'frank'}")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v('{"name":"frank"}')])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("'frank'")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v('"frank"')])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("123")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("123")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("true/false")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("true/false")])])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("undefined")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("undefined")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Function")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("function fn(){}")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("变量")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("var a={}")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("原型链")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[n("code",[t._v("object.prototype")])]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")])])])]),t._v(" "),n("h2",{attrs:{id:"_4-json-的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-json-的使用"}},[t._v("#")]),t._v(" 4. JSON 的使用")]),t._v(" "),n("ul",[n("li",[t._v("问题：如下代码为服务端返回给页面的数据，请问 "),n("code",[t._v("response.write()")]),t._v(" 里面的内容是对象吗？？")])]),t._v(" "),n("div",{staticClass:"language-nginx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("省略部分代码\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statuscode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n  response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/json;charset=utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("`\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"note"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"B"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heading"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sayHi"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hi"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  `"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("省略部分代码\n")])])]),n("p",[t._v("答：")]),t._v(" "),n("p",[t._v("不是对象！不是对象！不是对象！上面使用的是JSON的语法构建的JSON对象，但是返回给页面的时候永远是 "),n("code",[t._v("string")]),t._v(" ,即http协议的响应的第四部分为 string")]),t._v(" "),n("p",[t._v("验证方式：在前端页面收到响应以后")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//string")]),t._v("\n")])])]),n("ul",[n("li",[t._v("问题：如何把上述从后台获得的符合JSON语法的字符串转换成 js 对象或者是对应的值？")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" string "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" object "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//object")]),t._v("\n")])])]),n("p",[t._v("参考资料：")]),t._v(" "),n("p",[t._v("推荐文章："),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/22627657",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-知乎"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"http://json.org/json-zh.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-MDN"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"http://javascript.ruanyifeng.com/stdlib/json.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-阮一峰 "),n("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);