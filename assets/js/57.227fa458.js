(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{493:function(o,e,i){"use strict";i.r(e);var t=i(0),_=Object(t.a)({},(function(){var o=this,e=o.$createElement,i=o._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[i("h2",{attrs:{id:"cookie-的含义"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的含义"}},[o._v("#")]),o._v(" Cookie 的含义")]),o._v(" "),i("p",[i("strong",[o._v("Cookie")]),o._v("（复数形态Cookies），中文名称为“小型文字档案”或“小甜饼”")]),o._v(" "),i("p",[o._v("指某些网站为了辨别用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）。定义于RFC2109。是网景公司的前雇员卢·蒙特利在1993年3月的发明[2]。")]),o._v(" "),i("h2",{attrs:{id:"cookie-的分类"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的分类"}},[o._v("#")]),o._v(" Cookie 的分类")]),o._v(" "),i("ul",[i("li",[i("p",[o._v("内存Cookie：")]),o._v(" "),i("p",[o._v("内存Cookie由浏览器维护，保存在内存中，浏览器关闭后就消失了，其存在时间是短暂的。")])]),o._v(" "),i("li",[i("p",[o._v("硬盘Cookie：")]),o._v(" "),i("p",[o._v("硬盘Cookie保存在硬盘里，有一个过期时间，除非用户手工清理或到了过期时间，硬盘Cookie不会被删除，其存在时间是长期的。")])]),o._v(" "),i("li",[i("p",[o._v("所以，按"),i("strong",[o._v("存在时间")]),o._v("，可分为非持久Cookie和持久Cookie。")])])]),o._v(" "),i("h2",{attrs:{id:"cookie-的用途"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的用途"}},[o._v("#")]),o._v(" Cookie 的用途")]),o._v(" "),i("p",[o._v("因为HTTP协议是无状态的，即服务器不知道用户上一次做了什么，这严重阻碍了交互式Web应用程序的实现。")]),o._v(" "),i("p",[o._v("那么，怎么理解它的 **无状态 **呢？")]),o._v(" "),i("p",[o._v("举个例子：")]),o._v(" "),i("p",[o._v("当用户登录某个网站的时候，它会提示 “是否保存账号密码？”，如果选择是，那么下一次选择同一个网站的时候就不用再次输入账号密码了。")]),o._v(" "),i("p",[o._v("这正是因为前一次登录时，服务器发送了包含登录凭据（用户名加密码的某种加密形式）的Cookie到用户的硬盘上。第二次登录时，如果该Cookie尚未到期，浏览器会发送该Cookie，服务器验证凭据，于是不必输入用户名和密码就让用户登录了。")]),o._v(" "),i("blockquote",[i("p",[o._v("这时候理解 "),i("strong",[o._v("无状态")]),o._v("，就好多了，因为每次打开浏览器访问同一个网站的时候，它都认为是第一次访问，然后要输入账号密码设置相关信息啥的，他不知道你是【熟人】而无法免去一些繁杂的程序，而 Cookie 的出现就是帮助它 【记住你】，下一次访问相同的网站的时候就可以走 “快速通道” 啦～")])]),o._v(" "),i("h2",{attrs:{id:"cookie-的智能识别"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的智能识别"}},[o._v("#")]),o._v(" Cookie 的智能识别")]),o._v(" "),i("p",[o._v("如果在一台计算机中安装多个浏览器，每个浏览器都会以独立的空间存放Cookie。因为Cookie中不但可以确认用户信息，还能包含计算机和浏览器的信息。")]),o._v(" "),i("p",[o._v("所以一个用户使用不同的浏览器登录或者用不同的计算机登录，都会得到不同的Cookie信息，另一方面，对于在同一台计算机上使用同一浏览器的多用户群，Cookie不会区分他们的身份，除非他们使用不同的用户名登录。")]),o._v(" "),i("h2",{attrs:{id:"cookie-的不足"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的不足"}},[o._v("#")]),o._v(" Cookie 的不足")]),o._v(" "),i("ol",[i("li",[o._v("传输臃肿：Cookie会被附加在每个HTTP请求中，所以无形中增加了流量。")]),o._v(" "),i("li",[o._v("安全性：由于在HTTP请求中的Cookie是明文传递的，所以安全性成问题，除非用HTTPS。")]),o._v(" "),i("li",[o._v("大小限制：Cookie的大小限制在4KB左右，对于复杂的存储需求来说是不够用的。")])]),o._v(" "),i("h2",{attrs:{id:"cookie-在浏览器的位置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-在浏览器的位置"}},[o._v("#")]),o._v(" Cookie 在浏览器的位置")]),o._v(" "),i("p",[i("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/2/5/1616562f9ef50021?w=1418&h=456&f=png&s=37805",alt:"Cookie"}})]),o._v(" "),i("h2",{attrs:{id:"cookie-的风险"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的风险"}},[o._v("#")]),o._v(" Cookie 的风险")]),o._v(" "),i("p",[o._v("虽然Cookies没有中电脑病毒那么危险，但它仍包含了一些敏感讯息：用户名、电脑名、使用的浏览器和曾经访问的网站。用户不希望这些内容泄漏出去，尤其是当其中还包含有私人信息的时候。")]),o._v(" "),i("p",[o._v("这并非危言耸听，跨网站指令码（Cross site scripting）可以达到此目的。在受到跨网站指令码攻击时，Cookie盗贼和Cookie毒药将窃取内容。一旦Cookie落入攻击者手中，它将会重现其价值。")]),o._v(" "),i("ul",[i("li",[o._v("Cookie盗贼：搜集用户Cookie并发给攻击者的黑客，攻击者将利用Cookie讯息通过合法手段进入用户帐户。")]),o._v(" "),i("li",[o._v("Cookie投毒：一般认为，Cookie在储存和传回服务器期间没有被修改过，而攻击者会在Cookie送回服务器之前对其"),i("strong",[o._v("进行修改")]),o._v("，达到自己的目的。例如，在一个购物网站的Cookie中包含了顾客应付的款项，攻击者将该值改小，达到少付款的目的。")])]),o._v(" "),i("h2",{attrs:{id:"cookie-的结构"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的结构"}},[o._v("#")]),o._v(" Cookie 的结构")]),o._v(" "),i("p",[o._v("类似于 "),i("code",[o._v("[ key: value ]")]),o._v(" 的结构。如图：")]),o._v(" "),i("p",[i("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/2/5/1616563021e54cc6?w=1919&h=426&f=png&s=85098",alt:""}})]),o._v(" "),i("p",[o._v("或者在控制台输入 "),i("code",[o._v("console.log(document.cookie)")]),o._v(" 也可以看到 Cookie 信息。")]),o._v(" "),i("h2",{attrs:{id:"cookie-的特点"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的特点"}},[o._v("#")]),o._v(" Cookie 的特点")]),o._v(" "),i("ol",[i("li",[o._v("服务器通过 Set-Cookie 响应头设置 Cookie")]),o._v(" "),i("li",[o._v("浏览器得到 Cookie 之后，每次请求都要带上 Cookie")]),o._v(" "),i("li",[o._v("服务器读取 Cookie 就知道登录用户的信息（email）")])]),o._v(" "),i("h2",{attrs:{id:"小结"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[o._v("#")]),o._v(" 小结")]),o._v(" "),i("p",[o._v("用自己的话来理解 Cookie，可以举个例子说明：")]),o._v(" "),i("p",[o._v("同学A去公园，一开始他去的时候，进去和出来都没有人认识他，和普通人一样，互不干扰，没有联系，这就是最初的 "),i("strong",[o._v("【无状态】")])]),o._v(" "),i("p",[o._v("那么，为了更好的识别游客的身份，公园开始改革，需要游客凭门票入园，游客的身份信息明文写在门票上，然后入园的时候给门卫检查许可后入园，而这个 "),i("strong",[o._v("【门票】")]),o._v(" 的比喻，就是我们所说的Cookie 。")]),o._v(" "),i("p",[o._v("Cookie 的优点好比这张门票，上面记录了用户的身份信息，同时门票的使用期限和地点耶限定在一定的范围内。")]),o._v(" "),i("p",[o._v("Cookie 最大的缺点也可以通过门票的比喻可以看到，因为是明文，用户可以自己修改核心信息，以达到非法的目的。泄露了用户隐私的同时也损坏了公园的利益。")]),o._v(" "),i("p",[o._v("参考资料 ：")]),o._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Cookie",target:"_blank",rel:"noopener noreferrer"}},[o._v("Cookie-维基百科"),i("OutboundLink")],1)]),o._v(" "),i("li",[i("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/22396872?refer=study-fe",target:"_blank",rel:"noopener noreferrer"}},[o._v("Cookie 是什么"),i("OutboundLink")],1)]),o._v(" "),i("li",[o._v("推荐阅读 "),i("a",{attrs:{href:"http://bubkoo.com/2014/04/21/http-cookies-explained/",target:"_blank",rel:"noopener noreferrer"}},[o._v("HTTP cookie"),i("OutboundLink")],1)]),o._v(" "),i("li",[o._v("推荐阅读 "),i("a",{attrs:{href:"http://javascript.ruanyifeng.com/bom/cookie.html",target:"_blank",rel:"noopener noreferrer"}},[o._v("Cookie 阮一峰"),i("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=_.exports}}]);