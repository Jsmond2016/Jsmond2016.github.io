---
title: 记一次痛苦的踩坑经历
date: 2018-02-17 01:04:19
copyright: true
comments: true
post: true
tags:
- Git
- Linux
- 随笔
---

## 原因

在webPack的学习中，因为要使用到 `node-sass` ,但是在`terminal`  安装和配置的时候老是失败，实在无奈，各种 `node` ,`npm` ,`git` 更新排查问题，无果，问同学的时候，他说为啥我用的是的 deepin 系统，怀疑可能是兼容性的问题

于是，我一狠心，就把我现在的 deepin 给卸载了，然后重装 Ubuntu  系统，各种软件按配置以后，还没到 配置 `node-sass` 的地方，发现一个很严重的问题，我没法安装基本的通讯软件，例如 QQ ，微信（在 Ubuntu 配置 wine 太折腾了，使用体验还很差）。这不是说我为了聊天啥的，而是我有问题不能直接在当前系统截图信息等问同学，只能使用手机拍图然后询问，这太 TM 反人类了，明明只要在一个系统平台就可以完成的事情，非要手机掺和，真是 ××××××

## 过程

### 重装 Deepin

鉴于在我是用过的 Linux 系统中，对 QQ，微信等通讯软件兼容做的很好的，只有一个，那就是我原来使用的 Deepin，而且，我隐隐觉得是我自己问题而不是系统的问题。所以，还是重装回 Deepin 好了，既可以使用 QQ，微信等基本的通讯软件，也可以使用命令行，开发也很爽

于是，痛苦的折磨开始了！！！

我重装 Deepin 虽然成功了，但是开机的时候找不到 Deepin 系统的启动项？？！我很奇怪，Ubuntu 重装（我装的是双系统）都可以成功，为什么同是  Linux 的 Deepin 会安装失败？？关键还是没有报错信息，咋整？？难道是我设置分区的时候出了问题？

### 找不到启动项

设置Linux 分区有点小名堂，有 `/` ,`/home` ,`/boot` ,`/swap` 至少这么几个分区，难道是我在这里设置的不合理？？然后是一次又一次的重装

我就很奇怪，我在卸载 deepin 重装 Ubuntu  之前，我是怎么安装 Deepin 成功的？？那个时候我记得也是第一次没有成功，然后第二次安装 deepin 系统的时候设置了什么就可以找到系统的启动项，使用 Deepin 引导 win10 

#### 重装

解决办法之一，是使用重装，我总感觉实在分区的时候设置的问题，要么是默认的设置，要么是自定义设置，就是在这两种设置中出了问题，所以，这个 Deepin 系统前前后后我重装了不下10遍，基本每个细节都考虑到了，但是为什么就看不到启动项呢？哪怕是给我个报错也行啊？？

#### 网上搜索

基本就是搜索关键词 “Linux ，Deepin，双系统，找不到启动项”，基本都说是使用软件 easyBCD 在 windows下给 Linux 添加启动项，但是我尝试了一遍又一遍，不行啊 ？这里头包含很多生僻的东西，比如 BIOS  模式 ，快捷启动，硬盘格式等等 ，简直要疯了啊，一个错误像滚雪球一样滚出一大堆错误，一大堆不懂的东西，按照教程操作但是无效。   

#### Deepin 社区寻求帮助 

网上搜索无果，只好去 Deepin 社区看有没有其他小伙伴遇到相似的问题，毕竟这里的都是deepin 的用户，一定有很多的像我的问题一样的。

在 Deepin 社区论坛中，确确实实找到和我的情况相似的状况，即安装deepin 系统成功但是找不到启动项，然而他的电脑设置和我的有些不一样，我是用他的方式对我的电脑进行配置操作，在成功启动时候满以为可以恢复启动，然而，又！失！败！了！ 几乎要绝望了啊，安装成功了居然不能使用？？重装系统都要恶心了。。。

实在无奈，还是把我的问题做一个描述，向大神提问吧，于是我注册 Deepin 社区用户，把自己的问题做好描述，同时自己再一次找解决办法。

另一方面，自己原来在虚拟机还有一个 deepin 系统，但是，毕竟是在虚拟机里头使用，操作会有一些延迟，总是没有在硬盘中使用当前电脑的配置那么爽。而且，虚拟机还有一些潜在的误操作带来的风险，导致虚拟机里面的整个系统无法使用，那么所有在里面的配置信息都会丢失。

其实，仅仅是写代码的话，我在 win10 上和 虚拟机的 Deepin 都可以操作，只不过，使用命令行而言，win 永远不如在 Linux 爽，而使用 Linux 又是 Deepin 的使用体验要比 Ubuntu 体验要好，Deepin的使用体验又是硬盘上的 Deepin 比在虚拟机更爽。

我几乎都做好了准备干脆使用虚拟机的 Deepin 得了，但是强迫症患者总是不甘心，怎么搞？？

#### 启动项中的玄机

在上一步中，有参考过 Deepin 社区的其他大神的帖子，很多的描述相似，但是又有一些地方不同，而题主有没有具体描述可能出现的不同和解决办法。

后面我基本没啥事就重启电脑看蓝屏的配置信息，都是英文，但是很奇怪的是，我虽然每次i开机都直接进入 win 系统 ，但是我在 Boot 启动中却没有看到 Windows10 的启动项，而是一些我看不懂的字符串，但是我的U盘名字却可以看到，所以我猜测有两种可能 。

![](https://bbs.deepin.org/data/attachment/forum/201802/14/162135vwy8csy23xy2k32k.jpg)



- 可能一：Windows10 和 Deepin 的系统启动项藏起来了
- 可能二：两者启动项的名字被解释为乱码了，实际是存在的
- 可能三：这些是我原来使用easyBCD的时候设置的没有删除的启动项

所以，我就尝试瞎选择启动项，如果错了大不了强制重启嘛。

所以，我选择了第一个，他是一串很长的字符串，但是我可以肯定这是一个启动项,结果，启动了我的 Windows 10

顿时，整个人都兴奋了，因为，第一个启动项是win，那么第二个就应该是 Deepin 吧？

重启，选择 Boot：P5, 启动的时候进入了一个蓝色的透明很好看的界面，一看就是很熟悉的 Deepin 启动界面，哇！！！！！整个人都要跳起来了，Deepin 启动项，你让我找的好苦啊！！

### 设置启动项

既然找到了启动项 ，那么我就要设置启动项，使用 Deepin 下引导 win10，这是一个问题。本来解决办法之一是使用easyBCD可以设置的，但显然是无效的，因为之前就已经尝试了。

所以，还是回到 启动界面的 SetUp 里找解决办法

#### 调整启动顺序

之前有看过别的装机教程，就是电脑重装系统的时候，设置 U盘为第一启动项为了便于重装系统，所以，解决问题的出路应该在这里。

![](https://bbs.deepin.org/data/attachment/forum/201802/14/162134jgey2r8gtrvt8jm8.jpg)

在 Boot 设置里，第一顺序是 P0，是我的光驱，第二个是我的 固态，也就是我的 win10，第三个，我尝试后发现是无效的信息（反正我看不懂，就是黑屏和一大堆乱码）

我尝试在 p0 里面选择，发现设置只有 disabled，显然这里不是设置启动顺序的。

往下走，就只有三个选项了第一个和最后一个可以直接排除，一个是光驱一个是网络设备，那么就只有中间的选择了

点开以后，果然可以设置顺序，而我看到第一个就是 ssd相关，然后设置为第二个我看不懂的字符串。然后我就看到上面的 Boot Options的启动项顺序修改了。

重启

直接进入 Deepin 系统启动界面，其中包括了对于 Win的引导，那么，肯定是要先试试看 Deepin 能够进入了

成功进入 Deepin 系统

重启

选择进入 win10

成功进入 win10 系统

终于大功告成了！！！！！！万岁！！！

### Git SSH 配置失败

终于重装好了Deepin可以像从前一样正常使用了，整个身心都舒坦了好多，想着这辈子都不要重装 Deepin 了，想到就恶心，自己这几天因为装 Deepin 几十次，再想到重装系统，那股失望和绝望的乌云仿佛又一次的盖下来！

一切又一次重新开始了，自然是要安装基本的使用软件，编辑软件，nodejs，还有少不了的 git

然而，就是 git 安装这里，我配置 ssh 的时候，又一次让我崩溃！！！！！

![](https://i.loli.net/2018/02/16/5a86fb39294b9.png)

配置 SSH 的时候，明明秘钥是一模一样的，但是总是无法验证 ，每次i返回结果都是

 `host key verification failed`

诶，我就很奇怪，之前都是按照这个教程来设置的，不会有错的啊（虽然这个教程是我自己的笔记）

![](https://i.loli.net/2018/02/16/5a86fc3c469ae.png)

想想就很奇怪，到底是为什么呢？？

#### Git 问题

首先想到的就是 Git 是不是出问题了，常见的 bug 就是 版本太老，但是感觉不太对，因为我在 虚拟机里安装的是同一个 版本的 Deepin  系统，安装 git 的方式都一样，都是使用的 `sudo apt-get install git`  来安装的，为什么在虚拟机里的 Deepin 配置没问题而在现在的系统上又会有问题呢？

然后，我就重启电脑，删除 win10 的 ssh，随后按照教程的步骤一步一步来，最后配置验证 SSH 的时候，成功了！！

打开虚拟机，删除里面 Deepin 的 git 的 SSH，重新生成，测试，失败！！！！感觉后背一凉！或许是网络延迟，再试一遍 ！

失败 ！！

再试！！！！

依然失败！！！！

突然有一种生无可恋的感觉，觉得人生没有一点儿希望了的感觉 。我好不容易从重装系统的坑跳出来，又在这种基本的配置上出了问题，而且和重装系统的问题是一样的，都是自己以前都做过都成功的基础过程，偏偏现在就不行？？？！！！

大过年的，别人都看春晚放炮仗的，好不热闹，我特么怎么这么惨？？？？蓝瘦！香菇！！！！

#### Terminal 问题

既然不是 git 问题，而 git 是使用包管理工具 `apt-get ` 安装的，要么包管理工具的问题，要么是就是terminal 的问题。随后对 `apt-get` 进行更新，重试，配置SSH依然配置失败！！！

纳尼？？？这到底是咋回事？难不成是 terminal 的问题？

立刻卸载 terminal  重装，重试。配置 SSH 失败！！！！！！！

啊啊啊啊啊啊啊啊啊啊啊！！！！！！！要疯了要疯了！！！！！

#### 网上搜索

网上搜索相关话题，可是得到有用的答案很少，大部分的都是和我的问题相关性不大，解决方式也是不好操作，无果，怎么办？

#### 系统问题

最后猜测只有一种可能了，那就是系统的问题。因为我的 Deepin 系统是最新版，可能存在的问题是比较正常的，而我在 Deepin 社区看有关话题，并没有发现有 git ssh 配置失败的相关话题啊？

难道是还没有人遇到？？我是第一个踩坑的用户吗？？怎么办 ？

重装？？！！而我内心是一万个拒绝的！！！！！！

不得已，还是试一次吧！

因为之前还有旧版系统的镜像，重新格了镜像以后重装，测试git，配置 SSH

失败！！！！！！

我特么都气的砸桌子了！！！几个意思这是，诚心是要和我过意不去吗？？？

我所有的问题都基本排除了啊，git 和 terminal ，甚至系统问题 ，我都该更新的更新了，重装的重装了。问题就是解决不了！！！！

此时感觉自己就是黑夜里大海里漂泊的一页扁舟，黑暗里找不到一丝曙光，自己摸索不到任何方向，茫然无助！！！！

### 再一次分析问题

错误信息基本就一条，配置 git ssh 失败，我搜索的信息也是这个，也就想着这个坑或许又跨不过去了，抱着试试的心态，对 git ssh debug，对每一行的信息搜索看是哪儿的错误。这必然涉及到科学上网搜索了，一看对 git ssh debug ，国内的文章基本都没有怎么说道，还得看英文信息，看有没有和我一样的可怜人儿，掉进了这个坑。

然而，资料有说到，但是解决方式我看不懂！！。。。。。

然后随意搜索之前失败的代码信息

 `host key verification failed`

看到一条这样的

![](https://i.loli.net/2018/02/17/5a8704f44f4ff.png)

是这样吗？

试试看

删除原来的 ssh，测试

`Are you sure you want to continue connecting (yes/no)? `

`yes` 

...

...

![](https://i.loli.net/2018/02/17/5a870568a7444.png)

成功啦！！！！！

成功啦！！！！！

成！功！啦！！！！！

## 反思

本来是配置一下 `node-sass` 的，本以为是很简单的一件事，因为以前这么做都没啥问题，而这次踩的坑，是在太深！！！！！

那么，为什么我踩坑这么久踩跳出来？

我发现自己两个很严重的问题：

- 错误信息定位不准确
- 搜索方式不准确


#### 错误信息定位不准确 ：

后面的 git ssh 错误信息，本来核心信息应该就是

 `host key verification failed`

而我使用 bing 搜索只看了第一页没看到结果就不耐烦了，开始瞎猜瞎尝试。猜疑是git版本错误 ，猜疑是terminal 问题，甚至是系统问题（虽然我这么做是死马当活马医），我早该想到这些都是不太可能的事，毕竟这些东西都很多人都在用，很多的都是高级软件开发工程师，对这些工具的使用更是烂熟于心，开发者怎么会犯这么基本的错误？显然不可能 

而是另一个问题，报错信息定位不准确！！

结果显示是什么错，我就该搜索什么错对应的解决方案 。然而，这里我又踩了一个坑。

#### 搜索方式不全面


一般来说，百度给的搜索信息都比较垃圾，所以我的所有搜索都默认使用谷歌或是bing，对同一个搜索结果来说，一般相对相对准确（更靠近准确答案），虽然我也使用工具用了 google，但是也没有找到 我要的结果（可能是在后面几页，我没有耐心看到？？）

对比一下几个搜索的结果

![Bing搜索结果](https://i.loli.net/2018/02/17/5a8708c68d697.png)

![Google搜索结果](https://i.loli.net/2018/02/17/5a8708c6b4952.png)



![百度搜索结果](https://i.loli.net/2018/02/17/5a8708c69d43a.png)

结果然我很吃惊！！！

使用 bing 我在前2页没看到我要的答案！！！

我要的答案居然在百度搜索第一条，第二条！！！！！

使用谷歌搜索在第二页的第一条！！！！



只是三个字母的事情，我居然折腾了这么久！！！！！

此时我的内心是崩溃的 ！！！！！白白浪费了大把时间！！！

关键还是我的笔记记录的不详细，因为之前没有遇到过这样的情况，也没有考虑到会遇到这种情况

![](https://i.loli.net/2018/02/17/5a870c98a3489.png)

大部分教程都是直接按回车默认就表示 `yes` 谁知道在 deepin 会这样？？！！

好吧，这个年过得真是。。。贼带劲儿，恍惚在生死边缘擦过似得！

说到底，本来是该配置 `node-sass`  的，而我竟然搞了好几天卡在一个地方，思维局限了！！！

那么，我现在该干啥来着？？

当然是赶紧滚回去写代码啊！！——



（完）






